apply plugin: 'java'
repositories {
    mavenCentral()
}
dependencies {
   compile group: 'com.fasterxml.jackson.core', name: 'jackson-databind', version: '2.0.1'
   compile group: 'org.glassfish.jersey.containers', name: 'jersey-container-grizzly2-http', version: '2.13'
    compile group: 'org.glassfish.jersey.media', name: 'jersey-media-json-jackson', version: '2.13'

} 

task fatJar(type: Jar) {
	manifest {
        attributes 'Implementation-Title': 'Marbles Aggravation',  
        	'Implementation-Version': '1.0',
        	'Main-Class': 'com.sfalcigno.Main'
    }
    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }
    archiveName 'marbles-aggravation.jar'
    with jar
}

task stage() {
    dependsOn clean, fatJar
}

